{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/istvanszucs/Projects/ten-plus-select/src/components/TenPlusSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/istvanszucs/Projects/ten-plus-select/src/components/TenPlusSelect.vue","mtime":1587316636889},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkZWZhdWx0T3B0aW9ucyBmcm9tICIuLi9jb21tb24vZGVmYXVsdC1vcHRpb25zIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJUZW5QbHVzU2VsZWN0IiwKICBwcm9wczogewogICAgb3B0aW9uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgZGVmYXVsdDogKCkgPT4gZGVmYXVsdE9wdGlvbnMKICAgIH0sCiAgICByZWZyZXNoQnV0dG9uVGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogIlVwZGF0ZSIKICAgIH0sCiAgICBjbGFzc2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBzZWxlY3RDb250YWluZXJDbGFzc2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10KICAgIH0sCiAgICBpbnB1dENvbnRhaW5lckNsYXNzZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiBbXQogICAgfSwKICAgIGlucHV0Q2xhc3NlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgYnV0dG9uQ2xhc3NlczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0VmFsdWU6IDEsCiAgICAgIGlucHV0VmFsdWU6IG51bGwsCiAgICAgIHN0YXRlOiAwLAogICAgICBtYXg6IDAKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2VsZWN0VmFsdWUobmV3VmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlID09PSAtMSkgewogICAgICAgIHRoaXMuc3RhdGUgPSAxOwogICAgICAgIHRoaXMuaW5wdXRWYWx1ZSA9IHRoaXMubWF4OwogICAgICB9CiAgICAgIGlmIChuZXdWYWx1ZSA+IHRoaXMubWF4KSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IDE7CiAgICAgICAgdGhpcy5pbnB1dFZhbHVlID0gbmV3VmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lbWl0VmFsdWUoKTsKICAgICAgfQogICAgfSwKICAgIG9wdGlvbnMobmV3VmFsdWVzKSB7CiAgICAgIHRoaXMubWF4ID0gdGhpcy5jYWxjTWF4KG5ld1ZhbHVlcyk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbWFpbkNsYXNzZXMoKSB7CiAgICAgIGNvbnN0IGRlZmF1bHRDbGFzc2VzID0gWyJ0ZW4tcGx1cy1zZWxlY3QiXTsKICAgICAgcmV0dXJuIFsuLi5kZWZhdWx0Q2xhc3NlcywgLi4udGhpcy5jbGFzc2VzXTsKICAgIH0sCiAgICBzZWxlY3RDb250YWluZXJDbGFzc2VzQ2FsYygpIHsKICAgICAgY29uc3QgZGVmYXVsdENsYXNzZXMgPSBbInNlbGVjdC1jb250YWluZXIiXTsKICAgICAgcmV0dXJuIFsuLi5kZWZhdWx0Q2xhc3NlcywgdGhpcy5zZWxlY3RDb250YWluZXJDbGFzc2VzXTsKICAgIH0sCiAgICBpbnB1dENvbnRhaW5lckNsYXNzZXNDYWxjKCkgewogICAgICBjb25zdCBkZWZhdWx0Q2xhc3NlcyA9IFsiaW5wdXQtY29udGFpbmVyIl07CiAgICAgIHJldHVybiBbLi4uZGVmYXVsdENsYXNzZXMsIHRoaXMuaW5wdXRDb250YWluZXJDbGFzc2VzXTsKICAgIH0sCiAgICBpbnB1dENsYXNzZXNDYWxjKCkgewogICAgICBjb25zdCBkZWZhdWx0Q2xhc3NlcyA9IFsiaW5wdXQiXTsKICAgICAgcmV0dXJuIFsuLi5kZWZhdWx0Q2xhc3NlcywgdGhpcy5pbnB1dENsYXNzZXNdOwogICAgfSwKICAgIGJ1dHRvbkNsYXNzZXNDYWxjKCkgewogICAgICBjb25zdCBkZWZhdWx0Q2xhc3NlcyA9IFsiYnRuIl07CiAgICAgIHJldHVybiBbLi4uZGVmYXVsdENsYXNzZXMsIC4uLnRoaXMuYnV0dG9uQ2xhc3Nlc107CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBlbWl0VmFsdWUoKSB7CiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAwKSB7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBOdW1iZXIodGhpcy5zZWxlY3RWYWx1ZSkpOwogICAgICB9CiAgICAgIGlmICh0aGlzLnN0YXRlID09PSAxKSB7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCBOdW1iZXIodGhpcy5pbnB1dFZhbHVlKSk7CiAgICAgIH0KICAgIH0sCiAgICBvbkNsaWNrKCkgewogICAgICB0aGlzLmVtaXRWYWx1ZSgpOwogICAgICBpZiAodGhpcy5pbnB1dFZhbHVlIDw9IHRoaXMubWF4KSB7CiAgICAgICAgdGhpcy5zdGF0ZSA9IDA7CiAgICAgICAgdGhpcy5zZWxlY3RWYWx1ZSA9IHRoaXMuaW5wdXRWYWx1ZTsKICAgICAgICB0aGlzLmlucHV0VmFsdWUgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgY2FsY01heChpdGVtcykgewogICAgICBjb25zdCB2YWx1ZXMgPSBpdGVtcy5tYXAoaXRlbSA9PiBpdGVtLnZhbHVlKTsKICAgICAgcmV0dXJuIE1hdGgubWF4KC4uLnZhbHVlcyk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5tYXggPSB0aGlzLmNhbGNNYXgodGhpcy5vcHRpb25zKTsKICB9Cn07Cg=="},{"version":3,"sources":["TenPlusSelect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TenPlusSelect.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div :class=\"mainClasses\">\n    <div\n      :class=\"selectContainerClassesCalc\"\n      v-if=\"state === 0\"\n    >\n      <select\n        :class=\"selectClassesCalc\"\n        v-model=\"selectValue\"\n      >\n        <option\n          v-for=\"option in options\"\n          :key=\"option._id\"\n          :value=\"Number(option.value)\"\n        >{{option.text}}</option>\n      </select>\n    </div>\n    <div\n      class=\"input-container\"\n      v-if=\"state === 1\"\n    >\n      <input\n        :class=\"inputClassesCalc\"\n        type=\"number\"\n        v-model=\"inputValue\"\n      >\n      <button\n        :class=\"buttonClassesCalc\"\n        @click=\"onClick\"\n      >{{refreshButtonTitle}}</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport defaultOptions from \"../common/default-options\";\nexport default {\n  name: \"TenPlusSelect\",\n  props: {\n    options: {\n      type: Array,\n      require: true,\n      default: () => defaultOptions\n    },\n    refreshButtonTitle: {\n      type: String,\n      require: false,\n      default: \"Update\"\n    },\n    classes: {\n      type: Array,\n      require: false,\n      default: () => []\n    },\n    selectContainerClasses: {\n      type: Array,\n      require: false,\n      default: () => []\n    },\n    inputContainerClasses: {\n      type: Array,\n      require: false,\n      default: () => []\n    },\n    inputClasses: {\n      type: Array,\n      require: false,\n      default: () => []\n    },\n    buttonClasses: {\n      type: Array,\n      require: false,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      selectValue: 1,\n      inputValue: null,\n      state: 0,\n      max: 0\n    };\n  },\n  watch: {\n    selectValue(newValue) {\n      if (newValue === -1) {\n        this.state = 1;\n        this.inputValue = this.max;\n      }\n      if (newValue > this.max) {\n        this.state = 1;\n        this.inputValue = newValue;\n      } else {\n        this.emitValue();\n      }\n    },\n    options(newValues) {\n      this.max = this.calcMax(newValues);\n    }\n  },\n  computed: {\n    mainClasses() {\n      const defaultClasses = [\"ten-plus-select\"];\n      return [...defaultClasses, ...this.classes];\n    },\n    selectContainerClassesCalc() {\n      const defaultClasses = [\"select-container\"];\n      return [...defaultClasses, this.selectContainerClasses];\n    },\n    inputContainerClassesCalc() {\n      const defaultClasses = [\"input-container\"];\n      return [...defaultClasses, this.inputContainerClasses];\n    },\n    inputClassesCalc() {\n      const defaultClasses = [\"input\"];\n      return [...defaultClasses, this.inputClasses];\n    },\n    buttonClassesCalc() {\n      const defaultClasses = [\"btn\"];\n      return [...defaultClasses, ...this.buttonClasses];\n    }\n  },\n  methods: {\n    emitValue() {\n      if (this.state === 0) {\n        this.$emit(\"input\", Number(this.selectValue));\n      }\n      if (this.state === 1) {\n        this.$emit(\"input\", Number(this.inputValue));\n      }\n    },\n    onClick() {\n      this.emitValue();\n      if (this.inputValue <= this.max) {\n        this.state = 0;\n        this.selectValue = this.inputValue;\n        this.inputValue = null;\n      }\n    },\n    calcMax(items) {\n      const values = items.map(item => item.value);\n      return Math.max(...values);\n    }\n  },\n  mounted() {\n    this.max = this.calcMax(this.options);\n  }\n};\n</script>"]}]}